!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("preact"),require("redux")):"function"==typeof define&&define.amd?define(["preact","redux"],e):t.preactRedux=e(t.preact,t.Redux)}(this,function(t,e){function n(t){return function(){return t}}function r(t,e,n,r,o,i,s,u){if(E(e),!t){var p;if(void 0===e)p=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,i,s,u],a=0;p=Error(e.replace(/%s/g,function(){return c[a++]})),p.name="Invariant Violation"}throw p.framesToPop=1,p}}function o(){var t=[],e=[];return{clear:function(){e=L,t=L},notify:function(){for(var n=t=e,r=0;r<n.length;r++)n[r]()},subscribe:function(n){var r=!0;return e===t&&(e=t.slice()),e.push(n),function(){r&&t!==L&&(r=!1,e===t&&(e=t.slice()),e.splice(e.indexOf(n),1))}}}}function i(){}function s(t,e){var n={run:function(r){try{var o=t(e.getState(),r);(o!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=o,n.error=null)}catch(t){n.shouldComponentUpdate=!0,n.error=t}}};return n}function u(e){var n,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=o.getDisplayName,p=void 0===u?function(t){return"ConnectAdvanced("+t+")"}:u,c=o.methodName,a=void 0===c?"connectAdvanced":c,d=o.renderCountProp,f=void 0===d?void 0:d,l=o.shouldHandleStateChanges,h=void 0===l||l,y=o.storeKey,b=void 0===y?"store":y,v=o.withRef,m=void 0!==v&&v,P=I(o,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),S=b+"Subscription",g=Z++,O=(n={},n[b]=K,n[S]=_,n),C=(r={},r[S]=_,r);return function(n){G("function"==typeof n,"You must pass a component to the function returned by connect. Instead received "+JSON.stringify(n));var r=n.displayName||n.name||"Component",o=p(r),u=U({},P,{getDisplayName:p,methodName:a,renderCountProp:f,shouldHandleStateChanges:h,storeKey:b,withRef:m,displayName:o,wrappedComponentName:r,WrappedComponent:n}),c=function(r){function p(t,e){var n=W(this,r.call(this,t,e));return n.version=g,n.state={},n.renderCount=0,n.store=t[b]||e[b],n.propsMode=!!t[b],n.setWrappedInstance=n.setWrappedInstance.bind(n),G(n.store,'Could not find "'+b+'" in either the context or props of "'+o+'". Either wrap the root component in a <Provider>, or explicitly pass "'+b+'" as a prop to "'+o+'".'),n.initSelector(),n.initSubscription(),n}return D(p,r),p.prototype.getChildContext=function(){var t,e=this.propsMode?null:this.subscription;return t={},t[S]=e||this.context[S],t},p.prototype.componentDidMount=function(){h&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},p.prototype.componentWillReceiveProps=function(t){this.selector.run(t)},p.prototype.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},p.prototype.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=i,this.store=null,this.selector.run=i,this.selector.shouldComponentUpdate=!1},p.prototype.getWrappedInstance=function(){return G(m,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+a+"() call."),this.wrappedInstance},p.prototype.setWrappedInstance=function(t){this.wrappedInstance=t},p.prototype.initSelector=function(){this.selector=s(e(this.store.dispatch,u),this.store),this.selector.run(this.props)},p.prototype.initSubscription=function(){if(h){this.subscription=new X(this.store,(this.propsMode?this.props:this.context)[S],this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},p.prototype.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState($)):this.notifyNestedSubs()},p.prototype.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},p.prototype.isSubscribed=function(){return!!this.subscription&&this.subscription.isSubscribed()},p.prototype.addExtraProps=function(t){if(!(m||f||this.propsMode&&this.subscription))return t;var e=U({},t);return m&&(e.ref=this.setWrappedInstance),f&&(e[f]=this.renderCount++),this.propsMode&&this.subscription&&(e[S]=this.subscription),e},p.prototype.render=function(){var e=this.selector;if(e.shouldComponentUpdate=!1,e.error)throw e.error;return t.h(n,this.addExtraProps(e.props))},p}(t.Component);return c.WrappedComponent=n,c.displayName=o,c.childContextTypes=C,c.contextTypes=O,B(c,n)}}function p(t,e){return t===e?0!==t||0!==e||1/t==1/e:t!==t&&e!==e}function c(t,e){if(p(t,e))return!0;if("object"!==(void 0===t?"undefined":M(t))||null===t||"object"!==(void 0===e?"undefined":M(e))||null===e)return!1;var n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(var r=0;r<n.length;r++)if(!tt.call(e,n[r])||!p(t[n[r]],e[n[r]]))return!1;return!0}function a(t){return function(e,n){function r(){return o}var o=t(e,n);return r.dependsOnOwnProps=!1,r}}function d(t){return null!==t.dependsOnOwnProps&&void 0!==t.dependsOnOwnProps?!!t.dependsOnOwnProps:1!==t.length}function f(t){return function(){var e=function(t,n){return e.dependsOnOwnProps?e.mapToProps(t,n):e.mapToProps(t)};return e.dependsOnOwnProps=!0,e.mapToProps=function(n,r){e.mapToProps=t,e.dependsOnOwnProps=d(t);var o=e(n,r);return"function"==typeof o&&(e.mapToProps=o,e.dependsOnOwnProps=d(o),o=e(n,r)),o},e}}function l(t){return"function"==typeof t?f(t,"mapDispatchToProps"):void 0}function h(t){return t?void 0:a(function(t){return{dispatch:t}})}function y(t){return t&&"object"===(void 0===t?"undefined":M(t))?a(function(n){return e.bindActionCreators(t,n)}):void 0}function b(t){return"function"==typeof t?f(t,"mapStateToProps"):void 0}function v(t){return t?void 0:a(function(){return{}})}function m(t,e,n){return U({},n,t,e)}function P(t){return function(e,n){var r=n.pure,o=n.areMergedPropsEqual,i=!1,s=void 0;return function(e,n,u){var p=t(e,n,u);return i?r&&o(p,s)||(s=p):(i=!0,s=p),s}}}function S(t){return"function"==typeof t?P(t):void 0}function g(t){return t?void 0:function(){return m}}function O(t,e,n,r){return function(o,i){return n(t(o,i),e(r,i),i)}}function C(t,e,n,r,o){function i(o,i){return h=o,y=i,b=t(h,y),v=e(r,y),m=n(b,v,y),l=!0,m}function s(){return b=t(h,y),e.dependsOnOwnProps&&(v=e(r,y)),m=n(b,v,y)}function u(){return t.dependsOnOwnProps&&(b=t(h,y)),e.dependsOnOwnProps&&(v=e(r,y)),m=n(b,v,y)}function p(){var e=t(h,y),r=!f(e,b);return b=e,r&&(m=n(b,v,y)),m}function c(t,e){var n=!d(e,y),r=!a(t,h);return h=t,y=e,n&&r?s():n?u():r?p():m}var a=o.areStatesEqual,d=o.areOwnPropsEqual,f=o.areStatePropsEqual,l=!1,h=void 0,y=void 0,b=void 0,v=void 0,m=void 0;return function(t,e){return l?c(t,e):i(t,e)}}function w(t,e){var n=e.initMapStateToProps,r=e.initMapDispatchToProps,o=e.initMergeProps,i=I(e,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),s=n(t,i),u=r(t,i),p=o(t,i);return(i.pure?C:O)(s,u,p,t,i)}function T(t,e,n){for(var r=e.length-1;r>=0;r--){var o=e[r](t);if(o)return o}return function(e,r){throw Error("Invalid value of type "+(void 0===t?"undefined":M(t))+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function N(t,e){return t===e}var x={only:function(t){return t&&t[0]||null}},j=function(){};j.thatReturns=n,j.thatReturnsFalse=n(!1),j.thatReturnsTrue=n(!0),j.thatReturnsNull=n(null),j.thatReturnsThis=function(){return this},j.thatReturnsArgument=function(t){return t};var q=j,E=function(){},R=r,M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},D=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},I=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},W=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},F=q,k=R,A=function(){function t(){k(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e};return n.checkPropTypes=F,n.PropTypes=n,n},H=function(t,e){return e={exports:{}},t(e,e.exports),e.exports}(function(t){t.exports=A()}),_=H.shape({trySubscribe:H.func.isRequired,tryUnsubscribe:H.func.isRequired,notifyNestedSubs:H.func.isRequired,isSubscribed:H.func.isRequired}),K=H.shape({subscribe:H.func.isRequired,dispatch:H.func.isRequired,getState:H.func.isRequired}),J=function(t){function e(e,n){var r=W(this,t.call(this,e,n));return r.store=e.store,r}return D(e,t),e.prototype.getChildContext=function(){return{store:this.store,storeSubscription:null}},e.prototype.render=function(){return x.only(this.props.children)},e}(t.Component);J.childContextTypes={store:K.isRequired,storeSubscription:_},J.displayName="Provider";var V={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},Y={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},z="function"==typeof Object.getOwnPropertySymbols,B=function(t,e,n){if("string"!=typeof e){var r=Object.getOwnPropertyNames(e);z&&(r=r.concat(Object.getOwnPropertySymbols(e)));for(var o=0;o<r.length;++o)if(!(V[r[o]]||Y[r[o]]||n&&n[r[o]]))try{t[r[o]]=e[r[o]]}catch(t){}}return t},G=function(){},L=null,Q={notify:function(){}},X=function(){function t(t,e,n){this.store=t,this.parentSub=e,this.onStateChange=n,this.unsubscribe=null,this.listeners=Q}return t.prototype.addNestedSub=function(t){return this.trySubscribe(),this.listeners.subscribe(t)},t.prototype.notifyNestedSubs=function(){this.listeners.notify()},t.prototype.isSubscribed=function(){return!!this.unsubscribe},t.prototype.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=o())},t.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=Q)},t}(),Z=0,$={},tt=Object.prototype.hasOwnProperty,et="object"==("undefined"==typeof global?"undefined":M(global))&&global&&global.Object===Object&&global,nt="object"==("undefined"==typeof self?"undefined":M(self))&&self&&self.Object===Object&&self,rt=(et||nt||Function("return this")(),Object,Function.prototype),ot=rt.toString,it=(ot.call(Object),[l,h,y]),st=[b,v],ut=[S,g];return{Provider:J,connect:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.connectHOC,n=void 0===e?u:e,r=t.mapStateToPropsFactories,o=void 0===r?st:r,i=t.mapDispatchToPropsFactories,s=void 0===i?it:i,p=t.mergePropsFactories,a=void 0===p?ut:p,d=t.selectorFactory,f=void 0===d?w:d;return function(t,e,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=i.pure,p=void 0===u||u,d=i.areStatesEqual,l=void 0===d?N:d,h=i.areOwnPropsEqual,y=void 0===h?c:h,b=i.areStatePropsEqual,v=void 0===b?c:b,m=i.areMergedPropsEqual,P=void 0===m?c:m,S=I(i,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),g=T(t,o,"mapStateToProps"),O=T(e,s,"mapDispatchToProps"),C=T(r,a,"mergeProps");return n(f,U({methodName:"connect",getDisplayName:function(t){return"Connect("+t+")"},shouldHandleStateChanges:!!t,initMapStateToProps:g,initMapDispatchToProps:O,initMergeProps:C,pure:p,areStatesEqual:l,areOwnPropsEqual:y,areStatePropsEqual:v,areMergedPropsEqual:P},S))}}(),connectAdvanced:u}});
//# sourceMappingURL=preact-redux.min.js.map